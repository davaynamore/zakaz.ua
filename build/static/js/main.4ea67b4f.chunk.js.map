{"version":3,"sources":["components/cart/cart.js","components/cart/index.js","components/header/header.js","components/header/index.js","apiservice/index.js","components/wrapper/index.js","components/wrapper/wrapper.js","components/left-menu/index.js","components/left-menu/leftMenu.js","components/order-form/index.js","components/order-form/order-form.js","components/products-grid/index.js","components/products-grid/productsGrid.js","components/app/index.js","components/app/app.js","index.js"],"names":["Cart","_ref","price","counter","react_default","a","createElement","type","className","Header","props","href","components_cart","ApiService","_apiBase","getAllCategories","_callee","res","regenerator_default","wrap","_context","prev","next","_this","getResource","sent","abrupt","transformCategories","stop","getCategoryProducts","_callee2","id","_context2","concat","transformProducts","data","map","el","title","results","console","log","img","s150x150","ean","weight","category_id","url","fetch","this","ok","Error","status","json","Wrapper","_this$props","loading","error","loader","errorMsg","children","Component","LeftMenu","apiservice","state","categories","activeCategory","initialActiveCategory","setState","setActive","updateCategories","onLoading","then","catch","er","onError","onCategoryClick","_","prevState","_this2","_this$state","categoryItems","key","onClick","menuContent","Fragment","components_wrapper","OrderForm","decrementCounter","incrementCounter","onSubmit","e","preventDefault","addToCart","form","target","elements","value","name","readOnly","defaultValue","ProductsGrid","products","updateProducts","prevProps","productItems","product","src","alt","components_order_form","productsGrid","App","activeTitle","cart","totalPrice","productsCounter","onAddToCart","newCart","prop","setActiveCategory","components_header","left_menu","initialActive","products_grid","ReactDOM","render","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.4ea67b4f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './cart.scss';\r\n\r\nfunction Cart({ price, counter }) {\r\n  return (\r\n    <button type=\"button\" className=\"cart\">\r\n      <span className=\"cart__icon\">\r\n        <span className=\"goods__count\">{counter}</span>\r\n      </span>\r\n      <span className=\"total_price\">{price}</span>\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Cart;","import Cart from './cart';\r\nexport default Cart;","import React from 'react';\r\n\r\nimport Cart from '../cart';\r\n\r\nimport './header.scss';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"top-header\">\r\n      <div className=\"top-header__logo\">\r\n        <a className=\"top-header__logo-link\" href=\"/\">zakaz.ua</a>\r\n      </div>\r\n      <Cart {...props} />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import Header from './header';\r\nexport default Header;","export default class ApiService {\r\n\r\n  _apiBase = 'https://staging-stores-api.zakaz.ua/stores/default';\r\n\r\n  async getResource(url) {\r\n    const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}` +\r\n        `, received ${res.status}`)\r\n    }\r\n    return await res.json();\r\n  }\r\n\r\n  getAllCategories = async () => {\r\n    const res = await this.getResource(`/categories/`);\r\n    return this.transformCategories(res);\r\n  }\r\n\r\n  getCategoryProducts = async (id) => {\r\n    const res = await this.getResource(`/categories/${id}/products/`);\r\n    return this.transformProducts(res);\r\n  }\r\n\r\n  transformCategories = (data) => {\r\n    return data.map(el => {\r\n      return {\r\n        title: el.title,\r\n        id: el.id\r\n      }\r\n    })\r\n  }\r\n\r\n  transformProducts = (data) => {\r\n    return data.results.map(el => {\r\n      console.log(el);\r\n      const img = el.img.s150x150 || 'https://via.placeholder.com/150/cccccc/ffffff?text=Image+:-)'\r\n      return {\r\n        ean: el.ean,\r\n        img,\r\n        weight: el.weight,\r\n        title: el.title,\r\n        price: el.price,\r\n        category_id: el.category_id\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n","import Wrapper from './wrapper';\r\nexport default Wrapper;","import React, { Component } from 'react';\r\nimport './wrapper.scss';\r\n\r\nexport default class Wrapper extends Component {\r\n\r\n  render() {\r\n    const { loading, error } = this.props;\r\n\r\n    const loader = (\r\n      <div className=\"spinner-wrapper\">\r\n        <div className=\"lds-spinner\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    const errorMsg = (\r\n      <p className=\"error\">\r\n        \"Что то пошло не так,  пожалуйста перезагрузите страницу!\";\r\n      </p>\r\n    )\r\n\r\n    const content = loading ? loader : error ? errorMsg : this.props.children;\r\n\r\n\r\n    return content;\r\n  }\r\n}","import LeftMenu from './leftMenu';\r\nexport default LeftMenu;","import React, { Component } from 'react';\r\nimport ApiService from '../../apiservice';\r\nimport Wrapper from '../wrapper';\r\nimport './leftMenu.scss';\r\n\r\nexport default class LeftMenu extends Component {\r\n\r\n  apiservice = new ApiService();\r\n\r\n  state = {\r\n    loading: false,\r\n    error: null,\r\n    categories: null,\r\n    activeCategory: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateCategories();\r\n  }\r\n\r\n  componentDidUpdate(_, prevState) {\r\n    if (prevState.categories !== this.state.categories && !this.state.activeCategory) {\r\n      this.initialActiveCategory();\r\n    }\r\n  }\r\n\r\n  initialActiveCategory = () => {\r\n    const id = this.state.categories[0].id;\r\n    const title = this.state.categories[0].title;\r\n    this.setState({\r\n      activeCategory: id\r\n    })\r\n    this.props.setActive(id, title);\r\n  }\r\n\r\n  updateCategories = () => {\r\n    this.onLoading();\r\n    this.apiservice.getAllCategories()\r\n      .then(res => {\r\n        this.setState(\r\n          {\r\n            categories: res,\r\n            loading: false\r\n          }\r\n        )\r\n      })\r\n      .catch(er => {\r\n        this.onError(er);\r\n      });\r\n  }\r\n\r\n  onCategoryClick = (id, title) => {\r\n    this.setState({\r\n      activeCategory: id\r\n    });\r\n    this.props.setActive(id, title);\r\n  }\r\n\r\n  onError = (er) => {\r\n    this.setState({ error: er });\r\n    console.error(er);\r\n  }\r\n\r\n  onLoading = () => {\r\n    this.setState({ loading: true })\r\n  }\r\n\r\n  render() {\r\n\r\n    const { categories, activeCategory, loading, error } = this.state;\r\n\r\n    const categoryItems = categories && categories.map(({ id, title }) => {\r\n\r\n      let className = \"categories__item\";\r\n      if (activeCategory === id) {\r\n        className += \" active\";\r\n      }\r\n\r\n      return (\r\n        <li key={id} className={className}>\r\n          <button\r\n            type=\"button\"\r\n            className=\"categories__link\"\r\n            onClick={() => this.onCategoryClick(id, title)}>{title}\r\n          </button>\r\n        </li>\r\n      )\r\n    });\r\n\r\n    const menuContent = (\r\n      <React.Fragment>\r\n        <h2 className=\"left-menu__title\">Товари</h2>\r\n        <ul className=\"categories\">\r\n          {categoryItems}\r\n        </ul>\r\n      </React.Fragment>\r\n    );\r\n\r\n    return (\r\n      <div className=\"left-menu\">\r\n        <Wrapper loading={loading} error={error}>\r\n          {menuContent}\r\n        </Wrapper>\r\n      </div>\r\n    );\r\n  }\r\n}","import OrderForm from './order-form';\r\nexport default OrderForm;","import React, { Component } from 'react';\r\nimport './order-form.scss';\r\n\r\nexport default class OrderForm extends Component {\r\n  state = {\r\n    counter: 1\r\n  }\r\n\r\n  decrementCounter = () => {\r\n    this.setState((state) => {\r\n      if (state.counter === 1) return;\r\n      return {\r\n        counter: state.counter - 1\r\n      }\r\n    })\r\n  }\r\n\r\n  incrementCounter = () => {\r\n    this.setState((state) => {\r\n      return {\r\n        counter: state.counter + 1\r\n      }\r\n    })\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { counter } = this.state;\r\n    const { addToCart } = this.props;\r\n    const form = e.target;\r\n    const ean = form.elements.ean.value;\r\n    const price = +form.elements.price.value * counter;\r\n    this.setState({ counter: 1 });\r\n    addToCart(ean, price);\r\n  }\r\n\r\n  render() {\r\n    const { ean, price } = this.props;\r\n    const { counter } = this.state;\r\n    return (\r\n      <form className=\"order__form\" onSubmit={this.onSubmit}>\r\n        <div className=\"counter\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"counter__btn btn\"\r\n            onClick={this.decrementCounter}>-</button>\r\n          <input className=\"counter__field\" type=\"text\" name=\"count\" value={`${counter} шт`} readOnly />\r\n          <button\r\n            type=\"button\"\r\n            className=\"counter__btn btn\"\r\n            onClick={this.incrementCounter}>+</button>\r\n        </div>\r\n        <input type=\"hidden\" name=\"ean\" defaultValue={ean} />\r\n        <input type=\"hidden\" name=\"price\" defaultValue={price} />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"order__form-btn btn\">\r\n          Додати\r\n            <span></span>\r\n        </button>\r\n      </form>\r\n    )\r\n  }\r\n}","import ProductsGrid from './productsGrid';\r\nexport default ProductsGrid;","import React, { Component } from 'react';\r\nimport ApiService from '../../apiservice';\r\nimport Wrapper from '../wrapper';\r\nimport './productsGrid.scss';\r\nimport OrderForm from '../order-form';\r\n\r\nexport default class ProductsGrid extends Component {\r\n\r\n  apiservice = new ApiService();\r\n\r\n  state = {\r\n    products: null,\r\n    loading: false,\r\n    error: null\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.activeCategory !== this.props.activeCategory) {\r\n      this.updateProducts(this.props.activeCategory);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateProducts(this.props.activeCategory);\r\n  }\r\n\r\n  updateProducts = (id) => {\r\n    this.onLoading();\r\n    if (!this.props.activeCategory) return;\r\n    this.apiservice.getCategoryProducts(id)\r\n      .then(res => {\r\n        this.setState({\r\n          products: res,\r\n          loading: false\r\n        })\r\n      })\r\n      .catch(er => {\r\n        this.onError(er);\r\n      })\r\n  }\r\n\r\n  onError = (er) => {\r\n    this.setState({ error: er });\r\n    console.error(er);\r\n  }\r\n\r\n  onLoading = () => {\r\n    this.setState({ loading: true })\r\n  }\r\n\r\n  render() {\r\n    const { products, loading, error } = this.state;\r\n    const { title, addToCart } = this.props;\r\n\r\n    const productItems = products && products.map(product => {\r\n      const { ean, img, weight, title, price } = product;\r\n      return (\r\n        <div className=\"product-item\" key={ean}>\r\n          <div className=\"product-item__img\">\r\n            <img src={img} alt={title} />\r\n          </div>\r\n          <p className=\"product-item__price\">\r\n            {price}\r\n            <span className=\"product-item__currency\">грн</span>\r\n          </p>\r\n          <p className=\"product-item__title\">{title}</p>\r\n          <span className=\"product-item__weight\">{`${weight}г`}</span>\r\n\r\n          <OrderForm ean={ean} price={price} addToCart={addToCart} />\r\n        </div>\r\n      )\r\n    });\r\n\r\n    const productsGrid = (\r\n      <React.Fragment>\r\n        <h2 className=\"product__title\">{title}</h2>\r\n        <div className=\"product__grid\">\r\n          {productItems}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n\r\n    return (\r\n      <div className=\"product\">\r\n        <Wrapper loading={loading} error={error}>\r\n          {productsGrid}\r\n        </Wrapper>\r\n      </div>\r\n    )\r\n  }\r\n}","import App from './app';\r\nexport default App;","import React, { Component } from 'react';\nimport Header from '../header';\nimport LeftMenu from '../left-menu';\nimport ProductsGrid from '../products-grid';\n\nimport './app.scss';\n\nexport default class App extends Component {\n\n  state = {\n    activeCategory: null,\n    activeTitle: null,\n    cart: {},\n    totalPrice: 0,\n    productsCounter: 0\n  }\n\n  onAddToCart = (ean, price) => {\n    const { cart } = this.state\n    const newCart = cart;\n    if (!newCart[ean]) newCart[ean] = 0;\n    newCart[ean] += +price;\n    let totalPrice = 0;\n    let productsCounter = 0;\n    for (let prop in newCart) {\n      productsCounter++;\n      totalPrice += +newCart[prop];\n    }\n    this.setState({\n      cart: newCart,\n      totalPrice,\n      productsCounter\n    });\n  }\n\n  setActiveCategory = (id, title) => {\n    this.setState({\n      activeCategory: id,\n      activeTitle: title\n    })\n  }\n\n  render() {\n    const { activeCategory, activeTitle, totalPrice, productsCounter } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Header price={totalPrice} counter={productsCounter} />\n        <div className=\"flex\">\n          <LeftMenu setActive={this.setActiveCategory} initialActive={activeCategory} />\n          <ProductsGrid activeCategory={activeCategory} title={activeTitle} addToCart={this.onAddToCart} />\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/app';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}