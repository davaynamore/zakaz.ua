{"version":3,"sources":["components/cart/cart.js","components/cart/index.js","components/header/header.js","components/header/index.js","apiservice/index.js","components/wrapper/index.js","components/wrapper/wrapper.js","components/left-menu/index.js","components/left-menu/leftMenu.js","components/order-form/index.js","components/order-form/order-form.js","components/products-grid/index.js","components/products-grid/productsGrid.js","components/app/index.js","components/app/app.js","index.js"],"names":["Cart","_ref","price","counter","react_default","a","createElement","type","className","Header","props","href","components_cart","ApiService","_apiBase","getAllCategories","_callee","res","regenerator_default","wrap","_context","prev","next","_this","getResource","sent","abrupt","transformCategories","stop","getCategoryProducts","_callee2","id","_context2","concat","transformProducts","data","map","el","title","results","img","s150x150","ean","weight","category_id","url","fetch","this","ok","Error","status","json","Wrapper","_this$props","loading","error","loader","errorMsg","children","Component","LeftMenu","apiservice","state","categories","activeCategory","initialActiveCategory","setState","setActive","updateCategories","onLoading","then","catch","er","onError","onCategoryClick","console","_","prevState","_this2","_this$state","categoryItems","key","onClick","menuContent","Fragment","components_wrapper","OrderForm","decrementCounter","incrementCounter","onSubmit","e","preventDefault","addToCart","form","target","elements","value","name","readOnly","defaultValue","ProductsGrid","products","updateProducts","prevProps","productItems","product","src","alt","components_order_form","productsGrid","App","activeTitle","cart","totalPrice","productsCounter","onAddToCart","newCart","prop","setActiveCategory","components_header","left_menu","initialActive","products_grid","ReactDOM","render","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.a037221b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './cart.scss';\r\n\r\nfunction Cart({ price, counter }) {\r\n  return (\r\n    <button type=\"button\" className=\"cart\">\r\n      <span className=\"cart__icon\">\r\n        <span className=\"goods__count\">{counter}</span>\r\n      </span>\r\n      <span className=\"total_price\">{price}</span>\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Cart;","import Cart from './cart';\r\nexport default Cart;","import React from 'react';\r\n\r\nimport Cart from '../cart';\r\n\r\nimport './header.scss';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"top-header\">\r\n      <div className=\"top-header__logo\">\r\n        <a className=\"top-header__logo-link\" href=\"/\">zakaz.ua</a>\r\n      </div>\r\n      <Cart {...props} />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import Header from './header';\r\nexport default Header;","export default class ApiService {\r\n\r\n  _apiBase = 'https://staging-stores-api.zakaz.ua/stores/default';\r\n\r\n  async getResource(url) {\r\n    const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}` +\r\n        `, received ${res.status}`)\r\n    }\r\n    return await res.json();\r\n  }\r\n\r\n  getAllCategories = async () => {\r\n    const res = await this.getResource(`/categories/`);\r\n    return this.transformCategories(res);\r\n  }\r\n\r\n  getCategoryProducts = async (id) => {\r\n    const res = await this.getResource(`/categories/${id}/products/`);\r\n    return this.transformProducts(res);\r\n  }\r\n\r\n  transformCategories = (data) => {\r\n    return data.map(el => {\r\n      return {\r\n        title: el.title,\r\n        id: el.id\r\n      }\r\n    })\r\n  }\r\n\r\n  transformProducts = (data) => {\r\n    return data.results.map(el => {\r\n      const img = el.img.s150x150 || 'https://via.placeholder.com/150/cccccc/ffffff?text=Image+:-)'\r\n      return {\r\n        ean: el.ean,\r\n        img,\r\n        weight: el.weight,\r\n        title: el.title,\r\n        price: el.price,\r\n        category_id: el.category_id\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n","import Wrapper from './wrapper';\r\nexport default Wrapper;","import React, { Component } from 'react';\r\nimport './wrapper.scss';\r\n\r\nexport default class Wrapper extends Component {\r\n\r\n  render() {\r\n    const { loading, error } = this.props;\r\n\r\n    const loader = (\r\n      <div className=\"spinner-wrapper\">\r\n        <div className=\"lds-spinner\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    const errorMsg = (\r\n      <p className=\"error\">\r\n        \"Что то пошло не так,  пожалуйста перезагрузите страницу!\";\r\n      </p>\r\n    )\r\n\r\n    const content = loading ? loader : error ? errorMsg : this.props.children;\r\n\r\n\r\n    return content;\r\n  }\r\n}","import LeftMenu from './leftMenu';\r\nexport default LeftMenu;","import React, { Component } from 'react';\r\nimport ApiService from '../../apiservice';\r\nimport Wrapper from '../wrapper';\r\nimport './leftMenu.scss';\r\n\r\nexport default class LeftMenu extends Component {\r\n\r\n  apiservice = new ApiService();\r\n\r\n  state = {\r\n    loading: false,\r\n    error: null,\r\n    categories: null,\r\n    activeCategory: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateCategories();\r\n  }\r\n\r\n  componentDidUpdate(_, prevState) {\r\n    if (prevState.categories !== this.state.categories && !this.state.activeCategory) {\r\n      this.initialActiveCategory();\r\n    }\r\n  }\r\n\r\n  initialActiveCategory = () => {\r\n    const id = this.state.categories[0].id;\r\n    const title = this.state.categories[0].title;\r\n    this.setState({\r\n      activeCategory: id\r\n    })\r\n    this.props.setActive(id, title);\r\n  }\r\n\r\n  updateCategories = () => {\r\n    this.onLoading();\r\n    this.apiservice.getAllCategories()\r\n      .then(res => {\r\n        this.setState(\r\n          {\r\n            categories: res,\r\n            loading: false\r\n          }\r\n        )\r\n      })\r\n      .catch(er => {\r\n        this.onError(er);\r\n      });\r\n  }\r\n\r\n  onCategoryClick = (id, title) => {\r\n    this.setState({\r\n      activeCategory: id\r\n    });\r\n    this.props.setActive(id, title);\r\n  }\r\n\r\n  onError = (er) => {\r\n    this.setState({ error: er });\r\n    console.error(er);\r\n  }\r\n\r\n  onLoading = () => {\r\n    this.setState({ loading: true })\r\n  }\r\n\r\n  render() {\r\n\r\n    const { categories, activeCategory, loading, error } = this.state;\r\n\r\n    const categoryItems = categories && categories.map(({ id, title }) => {\r\n\r\n      let className = \"categories__item\";\r\n      if (activeCategory === id) {\r\n        className += \" active\";\r\n      }\r\n\r\n      return (\r\n        <li key={id} className={className}>\r\n          <button\r\n            type=\"button\"\r\n            className=\"categories__link\"\r\n            onClick={() => this.onCategoryClick(id, title)}>{title}\r\n          </button>\r\n        </li>\r\n      )\r\n    });\r\n\r\n    const menuContent = (\r\n      <React.Fragment>\r\n        <h2 className=\"left-menu__title\">Товари</h2>\r\n        <ul className=\"categories\">\r\n          {categoryItems}\r\n        </ul>\r\n      </React.Fragment>\r\n    );\r\n\r\n    return (\r\n      <div className=\"left-menu\">\r\n        <Wrapper loading={loading} error={error}>\r\n          {menuContent}\r\n        </Wrapper>\r\n      </div>\r\n    );\r\n  }\r\n}","import OrderForm from './order-form';\r\nexport default OrderForm;","import React, { Component } from 'react';\r\nimport './order-form.scss';\r\n\r\nexport default class OrderForm extends Component {\r\n  state = {\r\n    counter: 1\r\n  }\r\n\r\n  decrementCounter = () => {\r\n    this.setState((state) => {\r\n      if (state.counter === 1) return;\r\n      return {\r\n        counter: state.counter - 1\r\n      }\r\n    })\r\n  }\r\n\r\n  incrementCounter = () => {\r\n    this.setState((state) => {\r\n      return {\r\n        counter: state.counter + 1\r\n      }\r\n    })\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { counter } = this.state;\r\n    const { addToCart } = this.props;\r\n    const form = e.target;\r\n    const ean = form.elements.ean.value;\r\n    const price = +form.elements.price.value * counter;\r\n    this.setState({ counter: 1 });\r\n    addToCart(ean, price);\r\n  }\r\n\r\n  render() {\r\n    const { ean, price } = this.props;\r\n    const { counter } = this.state;\r\n    return (\r\n      <form className=\"order__form\" onSubmit={this.onSubmit}>\r\n        <div className=\"counter\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"counter__btn btn\"\r\n            onClick={this.decrementCounter}>-</button>\r\n          <input className=\"counter__field\" type=\"text\" name=\"count\" value={`${counter} шт`} readOnly />\r\n          <button\r\n            type=\"button\"\r\n            className=\"counter__btn btn\"\r\n            onClick={this.incrementCounter}>+</button>\r\n        </div>\r\n        <input type=\"hidden\" name=\"ean\" defaultValue={ean} />\r\n        <input type=\"hidden\" name=\"price\" defaultValue={price} />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"order__form-btn btn\">\r\n          Додати\r\n            <span></span>\r\n        </button>\r\n      </form>\r\n    )\r\n  }\r\n}","import ProductsGrid from './productsGrid';\r\nexport default ProductsGrid;","import React, { Component } from 'react';\r\nimport ApiService from '../../apiservice';\r\nimport Wrapper from '../wrapper';\r\nimport './productsGrid.scss';\r\nimport OrderForm from '../order-form';\r\n\r\nexport default class ProductsGrid extends Component {\r\n\r\n  apiservice = new ApiService();\r\n\r\n  state = {\r\n    products: null,\r\n    loading: false,\r\n    error: null\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.activeCategory !== this.props.activeCategory) {\r\n      this.updateProducts(this.props.activeCategory);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateProducts(this.props.activeCategory);\r\n  }\r\n\r\n  updateProducts = (id) => {\r\n    this.onLoading();\r\n    if (!this.props.activeCategory) return;\r\n    this.apiservice.getCategoryProducts(id)\r\n      .then(res => {\r\n        this.setState({\r\n          products: res,\r\n          loading: false\r\n        })\r\n      })\r\n      .catch(er => {\r\n        this.onError(er);\r\n      })\r\n  }\r\n\r\n  onError = (er) => {\r\n    this.setState({ error: er });\r\n    console.error(er);\r\n  }\r\n\r\n  onLoading = () => {\r\n    this.setState({ loading: true })\r\n  }\r\n\r\n  render() {\r\n    const { products, loading, error } = this.state;\r\n    const { title, addToCart } = this.props;\r\n\r\n    const productItems = products && products.map(product => {\r\n      const { ean, img, weight, title, price } = product;\r\n      return (\r\n        <div className=\"product-item\" key={ean}>\r\n          <div className=\"product-item__img\">\r\n            <img src={img} alt={title} />\r\n          </div>\r\n          <p className=\"product-item__price\">\r\n            {price}\r\n            <span className=\"product-item__currency\">грн</span>\r\n          </p>\r\n          <p className=\"product-item__title\">{title}</p>\r\n          <span className=\"product-item__weight\">{`${weight}г`}</span>\r\n\r\n          <OrderForm ean={ean} price={price} addToCart={addToCart} />\r\n        </div>\r\n      )\r\n    });\r\n\r\n    const productsGrid = (\r\n      <React.Fragment>\r\n        <h2 className=\"product__title\">{title}</h2>\r\n        <div className=\"product__grid\">\r\n          {productItems}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n\r\n    return (\r\n      <div className=\"product\">\r\n        <Wrapper loading={loading} error={error}>\r\n          {productsGrid}\r\n        </Wrapper>\r\n      </div>\r\n    )\r\n  }\r\n}","import App from './app';\r\nexport default App;","import React, { Component } from 'react';\nimport Header from '../header';\nimport LeftMenu from '../left-menu';\nimport ProductsGrid from '../products-grid';\n\nimport './app.scss';\n\nexport default class App extends Component {\n\n  state = {\n    activeCategory: null,\n    activeTitle: null,\n    cart: {},\n    totalPrice: 0,\n    productsCounter: 0\n  }\n\n  onAddToCart = (ean, price) => {\n    const { cart } = this.state\n    const newCart = cart;\n    if (!newCart[ean]) newCart[ean] = 0;\n    newCart[ean] += +price;\n    let totalPrice = 0;\n    let productsCounter = 0;\n    for (let prop in newCart) {\n      productsCounter++;\n      totalPrice += +newCart[prop];\n    }\n    this.setState({\n      cart: newCart,\n      totalPrice,\n      productsCounter\n    });\n  }\n\n  setActiveCategory = (id, title) => {\n    this.setState({\n      activeCategory: id,\n      activeTitle: title\n    })\n  }\n\n  render() {\n    const { activeCategory, activeTitle, totalPrice, productsCounter } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Header price={totalPrice} counter={productsCounter} />\n        <div className=\"flex\">\n          <LeftMenu setActive={this.setActiveCategory} initialActive={activeCategory} />\n          <ProductsGrid activeCategory={activeCategory} title={activeTitle} addToCart={this.onAddToCart} />\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/app';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}